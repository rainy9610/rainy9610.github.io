<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ å…¨çƒå³æ™‚å½±åƒåœ°åœ–å°ˆé¡Œ - é«˜ä¸­è³‡è¨Šèª²</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/SJPMeR/KoDcewE9jE="
          crossorigin=""/>

    <style>
        /* ç§»é™¤ç€è¦½å™¨é è¨­çš„é‚Šç•Œå’Œå…§é‚Šè· */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            overflow: hidden; /* é˜²æ­¢æ»¾å‹•æ¢å‡ºç¾ */
            background-color: #f4f4f4;
        }

        /* ç¢ºä¿åœ°åœ–å®¹å™¨ä½”æ»¿æ•´å€‹ç€è¦½å™¨è¦–çª— */
        #map {
            height: 100vh; /* 100% Viewport Height */
            width: 100vw; 
            position: relative;
        }

        /* å½ˆå‡ºè¦–çª—å…§çš„å½±åƒå®¹å™¨æ¨£å¼ (è®“å…§å®¹å±…ä¸­) */
        .leaflet-popup-content-wrapper div {
            padding: 5px;
        }

        /* å¯é¸ï¼šç¾åŒ–å½ˆå‡ºè¦–çª—çš„æ¨™é¡Œ */
        .leaflet-popup-content h4 {
            font-size: 16px;
            color: #007bff;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }
    </style>
</head>
<body>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20n6aR26920a1qYfSA+bXFijL+sjwLg2U4QzX42T4Bw="
            crossorigin=""></script>

    <script>
        // =======================================================
        // JavaScript é‚è¼¯é–‹å§‹ (ç”± Leaflet é©…å‹•)
        // =======================================================

        // 1. åˆå§‹åŒ–åœ°åœ–
        // è¨­å®šåœ°åœ–çš„ä¸­å¿ƒé»ç‚ºå…¨çƒ (åŒ—ç·¯ 30, æ±ç¶“ 0)ï¼Œç¸®æ”¾ç­‰ç´š 2
        var map = L.map('map').setView([30, 0], 2); 

        // 2. åŠ å…¥ OpenStreetMap åœ–å±¤ä½œç‚ºåœ°åœ–åº•åœ–
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Â© OpenStreetMap è²¢ç»è€…' 
        }).addTo(map);

        // 3. å®šç¾©æ‰€æœ‰åœ°é»çš„è³‡æ–™
        // æ‰€æœ‰å³æ™‚å½±åƒé€£çµå‡å·²æ ¹æ“šæ‚¨çš„æä¾›é€²è¡Œæ›´æ–°å’ŒåµŒå…¥
        var locations = [
            // éŸ“åœ‹åœ°å€
            {
                name: "ğŸ‡°ğŸ‡· éŸ“åœ‹ å¼˜å¤§",
                lat: 37.5574,
                lng: 126.9246,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/S1A49C6V-dg" title="éŸ“åœ‹å¼˜å¤§å³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            },
            // æ—¥æœ¬åœ°å€
            {
                name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬ æ­Œèˆä¼ç”º",
                lat: 35.6938,
                lng: 139.7036,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/gFRtAAmiFbE" title="æ—¥æœ¬æ­Œèˆä¼ç”ºå³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            },
            {
                name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬ æœ­å¹Œ",
                lat: 43.0621,
                lng: 141.3544,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/CF1vS8DdBIk" title="æ—¥æœ¬æœ­å¹Œå³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            },
            // å°ç£åœ°å€
            {
                name: "ğŸ‡¹ğŸ‡¼ å°ç£ å°æ±",
                lat: 22.7937,
                lng: 121.0560,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/UCG1aXVO8H8" title="å°ç£å°æ±å³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            },
            // æ­æ´²åœ°å€
            {
                name: "ğŸ‡®ğŸ‡¹ ç¾©å¤§åˆ© å¨å°¼æ–¯",
                lat: 45.4408,
                lng: 12.3155,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/WjOGhNDX51M" title="ç¾©å¤§åˆ©å¨å°¼æ–¯å³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            },
            {
                name: "ğŸ‡¨ğŸ‡­ ç‘å£« å·´å¡çˆ¾",
                lat: 47.5596,
                lng: 7.5886,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/jtLh8BdmHUU" title="ç‘å£«å·´å¡çˆ¾å³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            },
            {
                name: "ğŸ‡«ğŸ‡® èŠ¬è˜­ ç¾…ç“¦æ¶…ç±³",
                lat: 66.5039,
                lng: 25.7294,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/Cp4RRAEgpeU" title="èŠ¬è˜­ç¾…ç“¦æ¶…ç±³å³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            },
            // ç¾æ´²åœ°å€
            {
                name: "ğŸ‡ºğŸ‡¸ ç¾åœ‹ å‚‘å…‹éœ",
                lat: 43.4799,
                lng: -110.7628,
                videoContent: '<iframe width="300" height="200" src="https://www.youtube.com/embed/1EiC9bvVGnk" title="ç¾åœ‹å‚‘å…‹éœå³æ™‚å½±åƒ" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            }
        ];

        // 4. æ”¾ç½®åœ–é‡˜ä¸¦ç¶å®šå½ˆå‡ºè¦–çª—
        locations.forEach(function(location) {
            var popupContent = `
                <div style="text-align: center;">
                    <h4 style="margin-top: 0;">${location.name}</h4>
                    ${location.videoContent}
                </div>
            `;

            L.marker([location.lat, location.lng])
                .addTo(map)
                .bindPopup(popupContent, {
                    maxWidth: 320 
                });
        });

        // 5. å„ªåŒ–ï¼šé—œé–‰å½ˆå‡ºè¦–çª—æ™‚åœæ­¢å½±ç‰‡æ’­æ”¾
        map.on('popupclose', function(e) {
            var contentDiv = e.popup.getElement(); 
            var iframes = contentDiv.querySelectorAll('iframe');
            
            iframes.forEach(function(iframe) {
                // ç§»é™¤ iframe å…ƒç´ ï¼Œå¼·åˆ¶åœæ­¢ä¸²æµ
                iframe.remove(); 
            });
        });

        // 6. [åŠ åˆ†åŠŸèƒ½] èª¿æ•´åœ°åœ–è¦–è§’ï¼Œè®“æ‰€æœ‰åœ–é‡˜éƒ½åœ¨è¦–é‡å…§
        // å‰µå»ºä¸€å€‹ç¶“ç·¯åº¦é»çš„é™£åˆ—
        var latLngs = locations.map(function(loc) {
            return [loc.lat, loc.lng];
        });
        // å°‡åœ°åœ–ç¸®æ”¾åˆ°æ¶µè“‹æ‰€æœ‰é»çš„æœ€å°ç¯„åœ
        var bounds = L.latLngBounds(latLngs);
        map.fitBounds(bounds, { padding: [50, 50] }); // è¨­ç½®ä¸€äº›é‚Šè·
        
    </script>
    
</body>
</html>
